<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
    <head th:insert="~{layout :: head}"></head>
        <body>
        <nav th:insert="~{layout :: nav}"></nav>

        <div class="container">
            <div class="main-container">
                <!-- Header with Back Button -->
                <div class="header-section">
                    <a th:href="${cancelHref}" class="btn btn-outline-primary">
                        <i class="fas fa-arrow-left"></i>
                        Back
                    </a>

                    <h1 class="header-title" th:text="${title}"></h1>
                </div>

                <!-- Form Container -->
                <div class="form-container">
                    <form th:action="${formAction}" th:object="${formObject}" method="post" class="create-form">
                        <div th:switch="${entityType}">
                            <!-- Todo List Form -->
                            <div th:case="${T(com.example.todo.util.EntityType).TODOLIST}">
                                <div class="form-group">
                                    <label for="name" class="form-label">
                                        <i class="fas fa-list"></i>
                                        List Name
                                    </label>
                                    <input id="name"
                                           type="text"
                                           th:field="*{name}"
                                           class="form-control form-control-lg"
                                           maxlength="200"
                                           required
                                           autofocus
                                           placeholder="Enter list name" />
                                    <div class="invalid-feedback" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
                                    <small class="form-text text-muted">Maximum 200 characters</small>
                                </div>
                            </div>

                            <!-- Todo Item Form -->
                            <div th:case="${T(com.example.todo.util.EntityType).TODO}">
                                <div class="form-group">
                                    <label for="description" class="form-label">
                                        <i class="fas fa-check-circle"></i>
                                        Todo Description
                                    </label>
                                    <input id="description"
                                           type="text"
                                           th:field="*{description}"
                                           class="form-control form-control-lg"
                                           maxlength="200"
                                           required
                                           autofocus
                                           placeholder="What needs to be done?" />
                                    <div class="invalid-feedback" th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></div>
                                    <small class="form-text text-muted">Maximum 200 characters</small>
                                </div>
                            </div>

                            <!-- Note Form -->
                            <div th:case="${T(com.example.todo.util.EntityType).NOTE}">
                                <div class="form-group">
                                    <label for="title" class="form-label">
                                        <i class="fas fa-sticky-note"></i>
                                        Note Title
                                    </label>
                                    <input id="title"
                                           type="text"
                                           th:field="*{title}"
                                           class="form-control form-control-lg"
                                           maxlength="200"
                                           required
                                           autofocus
                                           placeholder="Enter note title" />
                                    <div class="invalid-feedback" th:if="${#fields.hasErrors('title')}" th:errors="*{title}"></div>
                                    <small class="form-text text-muted">Maximum 200 characters</small>
                                </div>
                                <div class="form-group">
                                    <label for="body" class="form-label">
                                        <i class="fas fa-align-left"></i>
                                        Content
                                    </label>
                                    <textarea id="body"
                                              th:field="*{body}"
                                              class="form-control form-control-lg"
                                              rows="8"
                                              placeholder="Write your note content here..."></textarea>
                                    <div class="invalid-feedback" th:if="${#fields.hasErrors('body')}" th:errors="*{body}"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Form Actions -->
                        <div class="form-actions">
                            <a th:href="${cancelHref}" class="btn btn-outline-secondary btn-lg">
                                <i class="fas fa-times"></i>
                                Cancel
                            </a>
                            <button type="submit" class="btn btn-outline-primary btn-lg" th:text="${submitLabel}">
                                <i class="fas fa-save"></i>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </body>
</html>