<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:insert="~{layout :: head}"></head>
<body>
<!-- Navigation -->
<nav th:insert="~{layout :: nav}"></nav>

<!-- Main Content -->
<div class="container">
    <div class="main-container">
        <!-- Header Section -->
        <div class="header-section">
            <h1 class="header-title">
                <i class="fas fa-list"></i>
                Todo Lists
            </h1>
            <a href="/lists/new" class="btn btn-primary">
                <i class="fas fa-plus"></i>
                New List
            </a>
        </div>

        <!-- No Todo Lists Message -->
        <div th:if="${todoLists == null or #lists.isEmpty(todoLists)}" class="empty-state">
            <i class="fas fa-clipboard-list"></i>
            <h4>No todo lists yet</h4>
            <p>Create your first todo list to get started!</p>
        </div>

        <!-- Todo Lists Cards -->
        <div class="cards-container" th:if="${todoLists != null and not #lists.isEmpty(todoLists)}">
            <div class="card" th:each="todoList : ${todoLists}" th:if="${todoList != null}">
                <div class="card-body clickable-card"
                     role="button"
                     tabindex="0"
                     th:onclick="'window.location.href = \'/lists/\' + ' + ${todoList.id}"
                >
                    <div class="card-header">
                        <h2 class="card-title" th:text="${todoList.name}"></h2>
                    </div>
                    <!-- Completed over total badge -->
                    <div class="badge">
                        <span th:text="${todoList.completedTodos}"></span> /
                        <span th:text="${todoList.totalTodos}"></span>
                    </div>
                    <p class="text-muted">Click to view todos</p>
                </div>
                <div class="card-footer">
                    <a th:href="@{/templates/pages/lists/{id}/delete-confirm(id=${todoList.id})}" class="btn btn-outline-danger btn-sm">
                        <i class="fas fa-trash"></i>
                        Delete
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<div th:insert="~{layout :: fab}"></div>
</body>
</html>